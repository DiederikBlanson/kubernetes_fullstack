# Multiple nodes in Kubernetes 
Source: 
- https://ubuntu.com/tutorials/getting-started-with-kubernetes-ha#4-create-a-microk8s-multinode-cluster

<br/>

### Step 1: Generate a token for the new node
In order to connect the node to the control plane (master), a token should be generated by the control plane. The command is as following:
```microk8s add-node``` 

Note: this token is valid for a short amount of time.

<br/>

### Step 2: Decide what kind of token
Now you can choose if the new node should be a worker or a master. Copy the command and run this in the new node

<br/>

### Step 3: Add new node to /etc/hosts
Finally, you have to add the ip address to the hosts file in EVERY NODE. This can be performed by the following command, where you replace node-ip and node-name:
```sudo echo "[node-ip] [node-name"] << /etc/hosts```

<br/>

## Other commands
- see pods on specific node: ```kubectl get pods --all-namespaces -o wide --field-selector spec.nodeName=<node>```